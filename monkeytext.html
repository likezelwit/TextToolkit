<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bahasa Monyet (Encode + Decode)</title>
</head>
<body>
  <h2>Bahasa Monyet Converter</h2>

  <label>Mode:</label><br>
  <select id="mode" onchange="run()">
    <option value="encode">Encode (Text → Monyet)</option>
    <option value="decode">Decode (Monyet → Text)</option>
  </select><br><br>

  <label>Type here:</label><br>
  <textarea id="inputText" rows="3" cols="60" oninput="run()"></textarea><br><br>

  <label>Result:</label><br>
  <textarea id="output" rows="4" cols="60" readonly></textarea><br><br>

  <button onclick="copyResult()">Copy</button>
  <button onclick="clearAll()">Clear</button>

<script>
  // MAP HURUF → KODE
  const encodeMap = {
    A:"aaaaa", B:"aaaau", C:"aaaua", D:"aaauu",
    E:"aauaa", F:"aauau", G:"aauua", H:"aauuu",
    I:"auaaa", J:"auaau", K:"auaua", L:"auauu",
    M:"auuaa", N:"auuau", O:"auuua", P:"auuuu",
    Q:"uaaaa", R:"uaaau", S:"uaaua", T:"uaauu",
    U:"uauaa", V:"uauau", W:"uauua", X:"uauuu",
    Y:"uuaaa", Z:"uuaau"
  };

  // Buat MAP kebalikan: KODE → HURUF
  const decodeMap = {};
  for (const [char, code] of Object.entries(encodeMap)) {
    decodeMap[code] = char;
  }

  function encodeText(text){
    text = text.toUpperCase();
    let out = "";
    for (let ch of text){
      if (/[A-Z]/.test(ch)){
        out += encodeMap[ch] + " ";
      } else if (ch === " ") {
        out += "/ ";   // tanda spasi
      }
    }
    return out.trim();
  }

  function decodeText(text){
    const parts = text.trim().split(/\s+/);
    let out = "";

    for (let token of parts){
      if (token === "/") { 
        out += " ";
        continue;
      }
      out += decodeMap[token] ?? "?";
    }
    return out;
  }

  function run(){
    const mode = document.getElementById("mode").value;
    const input = document.getElementById("inputText").value;

    if(mode === "encode"){
      document.getElementById("output").value = encodeText(input);
    } else {
      document.getElementById("output").value = decodeText(input);
    }
  }

  function copyResult(){
    const out = document.getElementById('output');
    if (!out.value) return;
    out.select();
    document.execCommand('copy');
    alert('Copied!');
  }

  function clearAll(){
    document.getElementById("inputText").value = "";
    document.getElementById("output").value = "";
  }
</script>

</body>
</html>
